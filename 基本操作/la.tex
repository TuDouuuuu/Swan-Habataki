\documentclass{article}
\usepackage{fontspec, xunicode, xltxtra} 
\setmainfont{Microsoft YaHei} 
\usepackage{setspace}
\usepackage{ctex} 
\usepackage{geometry}
\usepackage[Glenn]{fncychap}
\usepackage{listings}
\usepackage{color}
\usepackage{verbatim}
\usepackage{fancyhdr}


\newfontfamily\monaco{Monaco}
%\hspace{2em plus 1em minus 0.25em}

%\title{靠别人，你永远是右倾投降主义\\靠自己，你才是工农武装割据}
%\author{ZJUT14}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\geometry{left=2cm,right=1.7cm,top=1.0cm,bottom=1.5cm}
%\rhead{\CJKfamily{kai} 第 \thepage 页}
%\lfoot{} 
%\cfoot{\thepage}
%\rfoot{}
%\newcommand{\makefirstpageheadrule}{
%\makebox[0pt][l]{\rule[0.55\baselineskip]{\headwidth}{0.4pt}}
%\rule[0.7\baselineskip]{\headwidth}{0.4pt}}

%\renewcommand{\footrulewidth}{0.2pt}

\lstset{
    frame=simple,
    language=Java,
    aboveskip=3mm,
    belowskip=3mm,
    showstringspaces=false,
    basicstyle=\monaco,
    numbers=none,
    numberstyle=\tiny\color{gray},
    keywordstyle=\bfseries\monaco,%\fontspec{monaco Bold}\bfseries,
    commentstyle=\color{dkgreen},
    stringstyle=\color{mauve},
    breaklines=true,
    breakatwhitespace=true,
    tabsize=4,
    numbers = left,
}

\begin{document}

\begin{titlepage}

\thispagestyle{empty}
\pagebreak
\textbf{基本操作}
\pagestyle{plain}
\tableofcontents
\end{titlepage}


\hspace{3em}
\subsection{﻿离散化}
\subsubsection{一维线离散化}
\lstinputlisting{离散化/一维线离散化.cpp}
\subsubsection{二维点离散化}
\lstinputlisting{离散化/二维点离散化.cpp}

\subsection{矩阵快速幂}
\lstinputlisting{矩阵快速幂.cpp}

\subsection{二进制枚举}
\lstinputlisting{二进制枚举.cpp}

\subsection{状态压缩}
\lstinputlisting{状态压缩.cpp}

\subsection{bitset}
\lstinputlisting{bitset.cpp}


\end{document}